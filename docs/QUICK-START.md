# å¿«é€Ÿå¼€å§‹æŒ‡å—

> 5 åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½² Claude Code è¯­éŸ³å·¥ä½œæµ

---

## âš¡ ä¸€åˆ†é’Ÿäº†è§£

æœ¬é¡¹ç›®ä¸º Claude Code æ·»åŠ **æ™ºèƒ½é€šçŸ¥ç³»ç»Ÿ** + **è¯­éŸ³å®‰å…¨é˜²æŠ¤**ï¼š

```
è¯­éŸ³è¾“å…¥ â†’ å®‰å…¨æ£€æŸ¥ â†’ æ‰§è¡Œä»»åŠ¡ â†’ è‡ªåŠ¨é€šçŸ¥
```

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… ä»»åŠ¡å®Œæˆæ—¶è‡ªåŠ¨é€šçŸ¥ï¼ˆæ¡Œé¢ + è¯­éŸ³ï¼‰
- âœ… éœ€è¦è¾“å…¥æ—¶è¯­éŸ³æé†’
- âœ… å‘½ä»¤å¤±è´¥æ—¶å¼ºæç¤ºï¼ˆé‡å¤è¯­éŸ³ï¼‰
- âœ… é˜»æ­¢å±é™©å‘½ä»¤ï¼ˆ`rm -rf`, `git push -f`ï¼‰

---

## ğŸ“¦ å¿«é€Ÿå®‰è£…ï¼ˆ3æ­¥ï¼‰

### 1. å®‰è£…é€šçŸ¥å·¥å…·ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
brew install terminal-notifier
```

### 2. éªŒè¯è„šæœ¬ï¼ˆ1åˆ†é’Ÿï¼‰

æ£€æŸ¥é€šçŸ¥è„šæœ¬æ˜¯å¦å­˜åœ¨ï¼š

```bash
ls -la ~/.claude/scripts/notify.sh
```

å¦‚æœä¸å­˜åœ¨ï¼Œè„šæœ¬å·²åœ¨æœ¬é¡¹ç›®ä¸­æä¾›ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºã€‚

### 3. é‡å¯ Claude Codeï¼ˆ1åˆ†é’Ÿï¼‰

```bash
exit
claude
```

âœ… å®Œæˆï¼ç°åœ¨å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚

---

## ğŸ¯ å¿«é€Ÿæµ‹è¯•

### æµ‹è¯• 1: é€šçŸ¥è„šæœ¬

```bash
# Stop çº§åˆ«ï¼ˆæ— è¯­éŸ³ï¼‰
~/.claude/scripts/notify.sh 'âœ… æµ‹è¯•' 'ä»»åŠ¡å®Œæˆ' '' 'stop'

# Input çº§åˆ«ï¼ˆæœ‰è¯­éŸ³ï¼‰
~/.claude/scripts/notify.sh 'ğŸ”” æµ‹è¯•' 'éœ€è¦è¾“å…¥' 'è¯·å›æ¥' 'input'

# Error çº§åˆ«ï¼ˆé‡å¤è¯­éŸ³ï¼‰
~/.claude/scripts/notify.sh 'âŒ æµ‹è¯•' 'ä»»åŠ¡å¤±è´¥' 'å‡ºé”™äº†' 'error'
```

**æœŸæœ›ç»“æœ**:
- Stop: åªæœ‰æ¡Œé¢é€šçŸ¥ + Pop éŸ³
- Input: æ¡Œé¢é€šçŸ¥ + Ping éŸ³ + è¯­éŸ³ 1 æ¬¡
- Error: æ¡Œé¢é€šçŸ¥ + Basso éŸ³ + è¯­éŸ³ 2 æ¬¡

### æµ‹è¯• 2: è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶ï¼ˆæ¨èï¼‰

è¿è¡Œå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š

```bash
./run_tests.sh
```

**æµ‹è¯•å†…å®¹**:
- âœ… ç³»ç»Ÿç¯å¢ƒæ£€æŸ¥ï¼ˆ4é¡¹ï¼‰
- âœ… é…ç½®æ–‡ä»¶éªŒè¯ï¼ˆ5é¡¹ï¼‰
- âœ… Hookify è§„åˆ™æ£€æŸ¥ï¼ˆ3é¡¹ï¼‰
- âœ… é€šçŸ¥åŠŸèƒ½æµ‹è¯•ï¼ˆ5é¡¹ï¼‰
- âœ… æ—¥å¿—å’Œè¯­éŸ³éªŒè¯

**æœŸæœ›ç»“æœ**: æ˜¾ç¤º `æ‰€æœ‰å¿…éœ€æµ‹è¯•å·²é€šè¿‡ï¼ğŸ‰`

### æµ‹è¯• 3: å®‰å…¨è§„åˆ™

åœ¨ Claude Code ä¸­å°è¯•ï¼š

```
è¯·è¿è¡Œ rm -rf /tmp/test
```

**æœŸæœ›ç»“æœ**: Hookify æ‹¦æˆªå¹¶æç¤º"é˜»æ­¢å±é™©çš„åˆ é™¤å‘½ä»¤"

---

## ğŸ“š é…ç½®è¯´æ˜

### é€šçŸ¥çº§åˆ«

| çº§åˆ« | æ¡Œé¢ | è¯­éŸ³ | ç”¨é€” |
|------|------|------|------|
| `stop` | âœ… | âŒ | ä»»åŠ¡å®Œæˆ |
| `input` | âœ… | âœ… | éœ€è¦è¾“å…¥ |
| `error` | âœ… | âœ…âœ… | å‘½ä»¤å¤±è´¥ |

### å·²é…ç½®çš„ Hooks

- **Stop**: ä»»åŠ¡å®Œæˆ â†’ Stop é€šçŸ¥
- **Notification**: éœ€è¦è¾“å…¥ â†’ Input é€šçŸ¥
- **PostToolUse**: Bash å¤±è´¥ â†’ Error é€šçŸ¥
- **Error**: ç³»ç»Ÿé”™è¯¯ â†’ Error é€šçŸ¥

### Hookify å®‰å…¨è§„åˆ™

- `rm -rf` â†’ é˜»æ­¢
- `git push -f` â†’ é˜»æ­¢
- `git add .env` â†’ è­¦å‘Š

---

## ğŸ¤ è¯­éŸ³è¾“å…¥è®¾ç½®

### æ–¹å¼ A: macOS å†…ç½®å¬å†™ï¼ˆå…è´¹ï¼‰

1. ç³»ç»Ÿè®¾ç½® â†’ é”®ç›˜ â†’ å¬å†™
2. å¯ç”¨å¬å†™ï¼Œå¿«æ·é”®è®¾ä¸ºåŒå‡» `Fn`
3. åœ¨ç»ˆç«¯æŒ‰ `Fn Fn` æ¿€æ´»
4. è¯´å‡ºæŒ‡ä»¤åå†æŒ‰ `Fn Fn` ç»“æŸ

### æ–¹å¼ B: Typelessï¼ˆæ¨èï¼‰

1. ä¸‹è½½ [Typeless](https://www.typeless.com/)
2. è®¾ç½®å…¨å±€å¿«æ·é”®
3. åœ¨ç»ˆç«¯æŒ‰å¿«æ·é”®å³å¯è¾“å…¥

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šé€šçŸ¥æœªæ˜¾ç¤º

**æœ€å¸¸è§åŸå› ï¼šç³»ç»Ÿé€šçŸ¥æƒé™æœªå¼€å¯** âš ï¸

1. æ‰“å¼€ **ç³»ç»Ÿè®¾ç½®** â†’ **é€šçŸ¥**
2. æœç´¢å¹¶æ‰¾åˆ° **Terminal** æˆ– **terminal-notifier**
3. ç¡®ä¿ä»¥ä¸‹é€‰é¡¹å·²å¯ç”¨ï¼š
   - âœ… å…è®¸é€šçŸ¥
   - âœ… æ¨ªå¹…æ ·å¼ï¼šé€‰æ‹© **æ¨ªå¹…**ï¼ˆä¸æ˜¯"æ— "ï¼‰
   - âœ… åœ¨é€šçŸ¥ä¸­å¿ƒæ˜¾ç¤º
   - âœ… æ’­æ”¾å£°éŸ³

4. æµ‹è¯•é€šçŸ¥ï¼š
```bash
# æ‰‹åŠ¨æµ‹è¯•ï¼ˆåº”è¯¥çœ‹åˆ°æ¨ªå¹…ï¼‰
~/.claude/scripts/notify.sh "ğŸ”” æµ‹è¯•" "æ‚¨èƒ½çœ‹åˆ°è¿™ä¸ªé€šçŸ¥å—ï¼Ÿ" "æµ‹è¯•" "input"

# æ£€æŸ¥è„šæœ¬å­˜åœ¨
ls -la ~/.claude/scripts/notify.sh

# æŸ¥çœ‹é€šçŸ¥å†å²
terminal-notifier -list ALL
```

5. å¦‚æœä»ç„¶ä¸æ˜¾ç¤ºï¼š
   - æ£€æŸ¥æ˜¯å¦å¼€å¯äº†"å‹¿æ‰°æ¨¡å¼"æˆ–"ä¸“æ³¨æ¨¡å¼"
   - é‡å¯ Terminal åº”ç”¨

### é—®é¢˜ï¼šé€šçŸ¥è¢«æ›¿æ¢æˆ–å‡ºç° Removing previously sent notification

**åŸå› **: notify.sh ä½¿ç”¨äº† `-group` å‚æ•°ï¼Œterminal-notifier ä¼šæ›¿æ¢åŒç»„é€šçŸ¥ã€‚

**è§£å†³**:
```bash
# ç§»é™¤ -group å‚æ•°ï¼Œå¹¶è¿‡æ»¤æç¤ºä¿¡æ¯
terminal-notifier \
    -title "$TITLE" \
    -message "$MESSAGE" \
    -sound "$SOUND_NAME" \
    2>&1 | grep -v "Removing previously sent notification"
```

### é—®é¢˜ï¼šè¯­éŸ³ä¸æ’­æ”¾

```bash
# æµ‹è¯• say å‘½ä»¤
say "æµ‹è¯•"

# æ³¨æ„ï¼šStop çº§åˆ«é»˜è®¤æ— è¯­éŸ³ï¼
# ä½¿ç”¨ input æˆ– error çº§åˆ«æµ‹è¯•
```

### é—®é¢˜ï¼šHookify ä¸ç”Ÿæ•ˆ

```bash
# æŸ¥çœ‹è§„åˆ™
/hookify:list

# æ£€æŸ¥ PreToolUse é’©å­
jq '.hooks.PreToolUse' ~/.claude/settings.json

# æ£€æŸ¥é¡¹ç›®å†…è§„åˆ™é“¾æ¥
ls -la .claude/hookify.*.local.md

# æ£€æŸ¥è§„åˆ™æ–‡ä»¶
ls -la ~/.claude/hookify.*.local.md
```

### é—®é¢˜ï¼šHooks æœªç”Ÿæ•ˆ

```bash
# éªŒè¯ JSON
jq . ~/.claude/settings.json

# é‡å¯ Claude Code
exit && claude
```

---

## ğŸ“– å®Œæ•´æ–‡æ¡£

- **[å®æ–½æŒ‡å—](./README-å®æ–½æŒ‡å—.md)** - è¯¦ç»†é…ç½®è¯´æ˜
- **[æµ‹è¯•ç”¨ä¾‹](./TEST-CASES.md)** - 17ä¸ªæµ‹è¯•åœºæ™¯
- **[åŸå§‹è®¾è®¡æ–‡æ¡£](../è¯­éŸ³é©±åŠ¨çš„AIç¼–ç å·¥ä½œæµï¼šè®¾è®¡ä¸å®æ–½å®Œæ•´æŒ‡å—.md)** - æ¶æ„è®¾è®¡

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯ 1: é•¿æ—¶é—´ä»»åŠ¡

```bash
# è¯­éŸ³è¾“å…¥
"claude run pytest"

# â†’ ç¦»å¼€åº§ä½
# â†’ 10åˆ†é’Ÿåè‡ªåŠ¨é€šçŸ¥
```

### åœºæ™¯ 2: éœ€è¦æƒé™

```bash
# è¯­éŸ³è¾“å…¥
"claude create a new file"

# â†’ æ”¶åˆ° Input é€šçŸ¥: "éœ€è¦è¾“å…¥"
# â†’ å›åˆ°ç»ˆç«¯ç¡®è®¤æƒé™
```

### åœºæ™¯ 3: å‘½ä»¤å¤±è´¥

```bash
# è¯­éŸ³è¾“å…¥
"claude run a failing command"

# â†’ æ”¶åˆ° Error é€šçŸ¥ï¼ˆé‡å¤2æ¬¡ï¼‰
# â†’ æ£€æŸ¥é”™è¯¯å¹¶ä¿®å¤
```

---

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è¯­éŸ³

ç¼–è¾‘ `~/.claude/scripts/notify.sh`:

```bash
# ä¸­æ–‡å›ºå®šç”¨ Ting-Ting
voice="Ting-Ting"

# è‹±æ–‡å›ºå®šç”¨ Samantha
voice="Samantha"
```

### ä¿®æ”¹æç¤ºéŸ³

ç¼–è¾‘ `~/.claude/scripts/notify.sh`:

```bash
case "$LEVEL" in
    error)
        SOUND_NAME="Funk"  # æ”¹ç”¨ Funk éŸ³æ•ˆ
        ;;
esac
```

### æ·»åŠ è‡ªå®šä¹‰è§„åˆ™

åˆ›å»º `~/.claude/hookify.my-rule.local.md`:

```markdown
---
name: my-rule
enabled: true
event: bash
pattern: your-pattern-here
action: block
---

æ‚¨çš„æç¤ºæ¶ˆæ¯
```

---

## ğŸ“ æ£€æŸ¥æ¸…å•

å®‰è£…å®Œæˆåï¼Œç¡®è®¤ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] `brew list | grep terminal-notifier` æœ‰è¾“å‡º
- [ ] `~/.claude/scripts/notify.sh` æ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œ
- [ ] `~/.claude/settings.json` åŒ…å« hooks é…ç½®
- [ ] `~/.claude/hookify.*.local.md` ä¸‰ä¸ªè§„åˆ™æ–‡ä»¶å­˜åœ¨
- [ ] `.claude/hookify.*.local.md` å·²å»ºç«‹ç¬¦å·é“¾æ¥
- [ ] æ‰‹åŠ¨æµ‹è¯•ä¸‰ç§é€šçŸ¥çº§åˆ«éƒ½æ­£å¸¸
- [ ] `/hookify:list` æ˜¾ç¤ºä¸‰ä¸ªè§„åˆ™
- [ ] é‡å¯è¿‡ Claude Code

å…¨éƒ¨å‹¾é€‰ = å®‰è£…æˆåŠŸï¼ğŸ‰

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

1. æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£: [å®æ–½æŒ‡å—](./README-å®æ–½æŒ‡å—.md)
2. è¿è¡Œæµ‹è¯•å¥—ä»¶: [æµ‹è¯•ç”¨ä¾‹](./TEST-CASES.md)
3. æŸ¥çœ‹æ—¥å¿—: `cat ~/.claude/scripts/notify.log`

---

**å¿«é€Ÿå¼€å§‹æŒ‡å—ç‰ˆæœ¬**: v2.3  
**æœ€åæ›´æ–°**: 2026-01-20
